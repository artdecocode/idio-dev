{"version":3,"sources":["../../src/browserify/index.js"],"names":["watch","from","to","browserify","babelify","content","files","Object","keys","filter","k","type","test","forEach","name","path","output","options","babelifyOptions"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA;;;AAGO,MAAMA,QAAQ,OAAO;AAAEC,MAAF;AAAQC,IAAR;AAAYC,eAAa,EAAzB;AAA6BC,aAAW;AAAxC,CAAP,KAAwD;AAC3E,QAAM;AAAEC;AAAF,MAAc,MAAM,6BAAiBJ,IAAjB,CAA1B;AACA,QAAMK,QAAQC,OAAOC,IAAP,CAAYH,OAAZ,EACXI,MADW,CACJC,KAAK;AACX,UAAM;AAAEC;AAAF,QAAWN,QAAQK,CAAR,CAAjB;AACA,WAAOC,QAAQ,MAAf;AACD,GAJW,EAKXF,MALW,CAKJC,KAAK;AACX,WAAO,eAAeE,IAAf,CAAoBF,CAApB,CAAP;AACD,GAPW,CAAd;AAQAJ,QAAMO,OAAN,CAAeC,IAAD,IAAU;AACtB,UAAMC,OAAO,mBAAQd,IAAR,EAAca,IAAd,CAAb;AACA,UAAME,SAAS,mBAAQd,EAAR,EAAYY,IAAZ,CAAf;AACA,wBAAE;AAAEC,UAAF;AAAQC,YAAR;AAAgBC,eAASd,UAAzB;AAAqCe,uBAAiBd;AAAtD,KAAF;AACD,GAJD;AAKD,CAfM","sourcesContent":["import { readDirStructure } from 'wrote'\nimport { resolve } from 'path'\nimport w from './watch'\n\n/**\n * Bundle files and watch for changes.\n */\nexport const watch = async ({ from, to, browserify = {}, babelify = {} }) => {\n  const { content } = await readDirStructure(from)\n  const files = Object.keys(content)\n    .filter(k => {\n      const { type } = content[k]\n      return type == 'File'\n    })\n    .filter(k => {\n      return /\\.js(x|on)?$/.test(k)\n    })\n  files.forEach((name) => {\n    const path = resolve(from, name)\n    const output = resolve(to, name)\n    w({ path, output, options: browserify, babelifyOptions: babelify })\n  })\n}\n"],"file":"index.js"}